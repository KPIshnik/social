{"version":3,"sources":["components/UsersPage/UserPage.module.css","components/UsersPage/userItem/userItem.module.css","../node_modules/reselect/es/index.js","components/state/usersSelectors.js","components/UsersPage/Paginatoer.jsx","components/UsersPage/userItem/userItem.jsx","components/UsersPage/UsersPage.jsx","components/UsersPage/UsersClassPage.jsx","components/UsersPage/userPageWraper.jsx"],"names":["module","exports","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","pageCountSelector","state","usersPage","pageCount","usersOnPageSelector","usersOnPage","currentPageSelector","currentPage","isFatchingselector","isFatching","followingInProgresSelector","followingInProgres","getUsersSelectorSuper","users","Paginator","props","portionsCount","Math","ceil","useState","floor","porcion","setPorcion","pages","className","style","active","onClick","onPageChanged","pagesPorcion","filter","p","pagesList","UserItem","folow","user","followed","avatar","photos","small","to","id","src","title","alt","disabled","has","toggleFollowButton","unFollowUser","followUser","userInfo","name","status","UsersPage","u","main","loadMoreUsers","button","UsersClassPage","this","getUsers","Preloader","bind","React","Component","mapDispatchToProps","setNumberOfPages","setPageCountAC","UsersPageWraper","connect"],"mappings":"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","file":"static/js/4.6273b31a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"greet\":\"UserPage_greet__2kTgK\",\"main\":\"UserPage_main__YbKLm\",\"button\":\"UserPage_button__163i8\",\"pagesList\":\"UserPage_pagesList__hYX49\",\"active\":\"UserPage_active__2UeZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"userItem_avatar__3zAuI\",\"userInfo\":\"userItem_userInfo__2zns5\",\"toggleFollowButton\":\"userItem_toggleFollowButton__12WPR\",\"user\":\"userItem_user__t0cA0\"};","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from \"reselect\";\n\nexport const getUsersSelector = (state) => state.usersPage.users;\nexport const pageCountSelector = (state) => state.usersPage.pageCount;\nexport const usersOnPageSelector = (state) => state.usersPage.usersOnPage;\nexport const currentPageSelector = (state) => state.usersPage.currentPage;\nexport const isFatchingselector = (state) => state.usersPage.isFatching;\nexport const followingInProgresSelector = (state) => {\n  return state.usersPage.followingInProgres;\n};\n\nexport const getUsersSelectorSuper = createSelector(\n  getUsersSelector,\n  (users) => {\n    return users;\n  }\n);\n","import { useState } from \"react\";\nimport style from \"./UserPage.module.css\";\n\nconst Paginator = (props) => {\n  const itemCount = 10;\n  const portionsCount = Math.ceil(props.pageCount / itemCount);\n  let [porcion, setPorcion] = useState(\n    Math.floor(props.currentPage / itemCount)\n  );\n\n  let pages = [];\n  for (let i = 1; i <= props.pageCount; i++) {\n    pages.push(\n      <li\n        key={i}\n        className={i === props.currentPage ? style.active : \"\"}\n        onClick={() => {\n          props.onPageChanged(i);\n        }}\n      >\n        {i}\n      </li>\n    );\n  }\n  let pagesPorcion = pages.filter(\n    (p, i) => i < porcion * itemCount + 10 && i >= porcion * itemCount\n  );\n  return (\n    <div>\n      {porcion > 0 && (\n        <button onClick={() => setPorcion(--porcion)}>prev</button>\n      )}\n      <ul className={style.pagesList}>{pagesPorcion}</ul>\n      {porcion < portionsCount && (\n        <button onClick={() => setPorcion(++porcion)}>next</button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import { NavLink } from \"react-router-dom\";\nimport style from \"./userItem.module.css\";\nconst defaultAvatar =\n  \"https://www.dlf.pt/dfpng/middlepng/276-2761324_transparent-default-avatar-png-profile-no-image-icon.png\";\n\nexport default function UserItem(props) {\n  const folow = props.user.followed ? \"unfolow\" : \"folow\";\n  const avatar = props.user.photos.small;\n  return (\n    <div className={style.user}>\n      <div className={style.avatar}>\n        <NavLink to={\"/profile/\" + props.user.id}>\n          <img\n            src={avatar != null ? avatar : defaultAvatar}\n            title=\"avatar\"\n            alt=\"\"\n          />\n        </NavLink>\n        <button\n          disabled={props.followingInProgres.has(props.user.id)}\n          className={style.toggleFollowButton}\n          onClick={() => {\n            if (props.user.followed) {\n              props.unFollowUser(props.user.id);\n            } else {\n              props.followUser(props.user.id);\n            }\n          }}\n        >\n          {folow}\n        </button>\n      </div>\n      <div className={style.userInfo}>\n        <p>\n          <span>{props.user.name}</span>\n          <span>country</span>\n          {/* <span>{props.user.country}</span> */}\n        </p>\n        <p>\n          <span>{props.user.status}</span>\n          <span> city</span>\n          {/* <span>{props.user.city}</span> */}\n        </p>\n      </div>\n    </div>\n  );\n}\n","import Paginator from \"./Paginatoer\";\nimport UserItem from \"./userItem/userItem\";\nimport style from \"./UserPage.module.css\";\n\nexport default function UsersPage(props) {\n  const users = props.users.map((u) => (\n    <UserItem\n      user={u}\n      followingInProgres={props.followingInProgres}\n      key={u.id}\n      followUser={props.followUser}\n      unFollowUser={props.unFollowUser}\n    />\n  ));\n\n  let pages = [];\n  for (let i = 1; i <= props.pageCount; i++) {\n    pages.push(\n      <li\n        key={i}\n        className={i === props.currentPage ? style.active : \"\"}\n        onClick={() => {\n          props.onPageChanged(i);\n        }}\n      >\n        {i}\n      </li>\n    );\n  }\n  return (\n    <div className={style.main}>\n      <h3> Users: </h3>\n      {/* <ul className={style.pagesList}>{pages}</ul> */}\n      <Paginator\n        pageCount={props.pageCount}\n        currentPage={props.currentPage}\n        onPageChanged={props.onPageChanged}\n      />\n      {users}\n\n      <button onClick={props.loadMoreUsers} className={style.button}>\n        Show more\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport UsersPage from \"./UsersPage\";\nimport Preloader from \"../common/Preloader\";\n\nclass UsersClassPage extends React.Component {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.usersOnPage);\n  }\n\n  onPageChanged(i) {\n    this.props.getUsers(i, this.props.usersOnPage);\n  }\n\n  render() {\n    return (\n      <>\n        {this.props.isFatching ? (\n          <Preloader />\n        ) : (\n          <UsersPage\n            users={this.props.users}\n            onPageChanged={this.onPageChanged.bind(this)}\n            pageCount={this.props.pageCount}\n            currentPage={this.props.currentPage}\n            followingInProgres={this.props.followingInProgres}\n            followUser={this.props.followUser}\n            unFollowUser={this.props.unFollowUser}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default UsersClassPage;\n","import { connect } from \"react-redux\";\nimport {\n  setPageCountAC,\n  getUsers,\n  followUser,\n  unFollowUser,\n} from \"../state/usersReducer\";\nimport {\n  currentPageSelector,\n  followingInProgresSelector,\n  getUsersSelector,\n  getUsersSelectorSuper,\n  isFatchingselector,\n  pageCountSelector,\n  usersOnPageSelector,\n} from \"../state/usersSelectors\";\nimport UsersClassPage from \"./UsersClassPage\";\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsersSelectorSuper(state),\n    pageCount: pageCountSelector(state),\n    usersOnPage: usersOnPageSelector(state),\n    currentPage: currentPageSelector(state),\n    isFatching: isFatchingselector(state),\n    followingInProgres: followingInProgresSelector(state),\n  };\n};\n\nlet mapDispatchToProps = {\n  setNumberOfPages: setPageCountAC,\n\n  getUsers,\n  followUser,\n  unFollowUser,\n};\n\nlet UsersPageWraper = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UsersClassPage);\n\nexport default UsersPageWraper;\n"],"sourceRoot":""}