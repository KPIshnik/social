(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[4],{289:function(e,n,r){e.exports={greet:"UserPage_greet__2kTgK",main:"UserPage_main__YbKLm",button:"UserPage_button__163i8",pagesList:"UserPage_pagesList__hYX49",active:"UserPage_active__2UeZg"}},290:function(e,n,r){e.exports={avatar:"userItem_avatar__3zAuI",userInfo:"userItem_userInfo__2zns5",toggleFollowButton:"userItem_toggleFollowButton__12WPR",user:"userItem_user__t0cA0"}},295:function(e,n,r){"use strict";r.r(n);var t=r(11),s=r(126);function o(e,n){return e===n}function u(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}function a(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var i=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),s=0;s<n;s++)t[s]=arguments[s];var o=0,u=t.pop(),i=a(t),c=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(r)),l=e((function(){for(var e=[],n=i.length,r=0;r<n;r++)e.push(i[r].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=u,l.dependencies=i,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=null,t=null;return function(){return u(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var c=function(e){return e.usersPage.pageCount},l=function(e){return e.usersPage.usersOnPage},g=function(e){return e.usersPage.currentPage},p=function(e){return e.usersPage.isFatching},f=function(e){return e.usersPage.followingInProgres},h=i((function(e){return e.usersPage.users}),(function(e){return e})),j=r(1),d=r(25),b=r(26),P=r(28),v=r(27),O=r(0),w=r.n(O),m=r(86),x=r(289),_=r.n(x),C=function(e){for(var n=Math.ceil(e.pageCount/10),r=Object(O.useState)(Math.floor(e.currentPage/10)),t=Object(m.a)(r,2),s=t[0],o=t[1],u=[],a=function(n){u.push(Object(j.jsx)("li",{className:n===e.currentPage?_.a.active:"",onClick:function(){e.onPageChanged(n)},children:n},n))},i=1;i<=e.pageCount;i++)a(i);var c=u.filter((function(e,n){return n<10*s+10&&n>=10*s}));return Object(j.jsxs)("div",{children:[s>0&&Object(j.jsx)("button",{onClick:function(){return o(--s)},children:"prev"}),Object(j.jsx)("ul",{className:_.a.pagesList,children:c}),s<n&&Object(j.jsx)("button",{onClick:function(){return o(++s)},children:"next"})]})},U=r(24),y=r(290),I=r.n(y);function F(e){var n=e.user.followed?"unfolow":"folow",r=e.user.photos.small;return Object(j.jsxs)("div",{className:I.a.user,children:[Object(j.jsxs)("div",{className:I.a.avatar,children:[Object(j.jsx)(U.b,{to:"/profile/"+e.user.id,children:Object(j.jsx)("img",{src:null!=r?r:"https://www.dlf.pt/dfpng/middlepng/276-2761324_transparent-default-avatar-png-profile-no-image-icon.png",title:"avatar",alt:""})}),Object(j.jsx)("button",{disabled:e.followingInProgres.has(e.user.id),className:I.a.toggleFollowButton,onClick:function(){e.user.followed?e.unFollowUser(e.user.id):e.followUser(e.user.id)},children:n})]}),Object(j.jsxs)("div",{className:I.a.userInfo,children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:e.user.name}),Object(j.jsx)("span",{children:"country"})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:e.user.status}),Object(j.jsx)("span",{children:" city"})]})]})]})}function k(e){for(var n=e.users.map((function(n){return Object(j.jsx)(F,{user:n,followingInProgres:e.followingInProgres,followUser:e.followUser,unFollowUser:e.unFollowUser},n.id)})),r=[],t=function(n){r.push(Object(j.jsx)("li",{className:n===e.currentPage?_.a.active:"",onClick:function(){e.onPageChanged(n)},children:n},n))},s=1;s<=e.pageCount;s++)t(s);return Object(j.jsxs)("div",{className:_.a.main,children:[Object(j.jsx)("h3",{children:" Users: "}),Object(j.jsx)(C,{pageCount:e.pageCount,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),n,Object(j.jsx)("button",{onClick:e.loadMoreUsers,className:_.a.button,children:"Show more"})]})}var N=r(47),A=function(e){Object(P.a)(r,e);var n=Object(v.a)(r);function r(){return Object(d.a)(this,r),n.apply(this,arguments)}return Object(b.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.usersOnPage)}},{key:"onPageChanged",value:function(e){this.props.getUsers(e,this.props.usersOnPage)}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.props.isFatching?Object(j.jsx)(N.a,{}):Object(j.jsx)(k,{users:this.props.users,onPageChanged:this.onPageChanged.bind(this),pageCount:this.props.pageCount,currentPage:this.props.currentPage,followingInProgres:this.props.followingInProgres,followUser:this.props.followUser,unFollowUser:this.props.unFollowUser})})}}]),r}(w.a.Component),L={setNumberOfPages:s.d,getUsers:s.c,followUser:s.b,unFollowUser:s.e},M=Object(t.b)((function(e){return{users:h(e),pageCount:c(e),usersOnPage:l(e),currentPage:g(e),isFatching:p(e),followingInProgres:f(e)}}),L)(A);n.default=M}}]);
//# sourceMappingURL=4.54e42f46.chunk.js.map